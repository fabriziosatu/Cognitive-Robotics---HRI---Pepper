version: "3.1"

intents:
- affirm
- capabilities
- count_people
- deny
- doubt
- finding_someone
- goodbye
- greet
- inform
- nlu_fallback
- stop
- thanks
- count_groups
- classification
- have_partecipated
- members_group
- score_done
- group_id

entities:
- clothing
- negation
- passages
- line
- gender
- mark
- member_group
- group_ID
- position


slots:
  gender:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: gender
      conditions:
      - active_loop: find_person_form
        requested_slot: gender
    - type: from_intent
      intent: doubt
      value: None
      conditions:
      - active_loop: find_person_form
        requested_slot: gender
  bag:
    type: text
    influence_conversation: false
    mappings:
    - type: from_intent
      intent: affirm
      value: true
      conditions:
      - active_loop: find_person_form
        requested_slot: bag
    - type: from_intent
      intent: deny
      value: false
      conditions:
      - active_loop: find_person_form
        requested_slot: bag
    - type: from_intent
      intent: doubt
      value: None
      conditions:
      - active_loop: find_person_form
        requested_slot: bag
  hat:
    type: text
    influence_conversation: false
    mappings:
    - type: from_intent
      intent: affirm
      value: true
      conditions:
      - active_loop: find_person_form
        requested_slot: hat
    - type: from_intent
      intent: deny
      value: false
      conditions:
      - active_loop: find_person_form
        requested_slot: hat
    - type: from_intent
      intent: doubt
      value: None
      conditions:
      - active_loop: find_person_form
        requested_slot: hat
  line1_passages:
    type: any
    influence_conversation: false
    mappings:
    - type: custom
  line2_passages:
    type: any
    influence_conversation: false
    mappings:
    - type: custom
  line3_passages:
    type: any
    influence_conversation: false
    mappings:
    - type: custom
  line4_passages:
    type: any
    influence_conversation: null
    mappings:
    - type: custom
  score:
    type: any
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: mark
  member_group:
    type: any
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: member_group
  group_ID:
    type: any
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: group_ID
  position:
    type: text
    influence_conversation: false
    mappings:
    - type: from_entity
      entity: position
  last_updated:
    type: text
    influence_conversation: false
    mappings:
    - type: custom

responses:
  utter_ask_bag:
  - text: Does the person you are looking for have a bag?
  utter_ask_gender:
  - text: What is the gender?
  utter_ask_hat:
  - text: Does the person you are looking for have a hat?
  utter_ask_stopping:
  - text: Do you want to stop or do you want to make a new research based on the data you provided me previously?
  utter_capabilities:
  - text: I can spot and count the number of people in the mall who match certain characteristics you give me. I can also provide information regarding the number of groups, the members of a group, the score of a group, and the ranking of a group that have partecipated in the Artificial Vision twenty twenty-five contest.
  - text: I'm able to identify and count people in the mall who meet specific attributes you supply, and I am able to give information about number of groups, the members of a group, the score of a group, and the ranking of a group that have took part in the Artificial Vision twenty twenty-five contest. It is not much, but it is a complex job.
  - text: I can share information regarding the number of groups, the members of a group, the score of a group, and the ranking of a group that have partecipated in the the Artificial Vision twenty twenty-five contest. I can also spot and total up people in the shopping complex who match certain features. It is not much, but it is a complex job.
  - text: I'm capable of detecting and counting up people in the shopping mall who align with certain qualities you offer. I can also make known the number of groups, the members of a groupa, the score of a group, and the ranking of a group that have took part in the Artificial Vision twenty twenty-five contest.
  utter_doubt:
  - text: Don't worry. It is normal to be upset in these situations. I will do my best to help you.
  - text: Don't fret. It's completely normal to feel this way in such situations. I'll do everything I can to assist you.
  - text: No worries. Feeling upset is normal. I'll do my best.
  - text: There's no need for concern. It's understandable to be upset under these circumstances. I'll do all I can to aid you.
  - text: Don't panic. It's alright to be upset. I'll do my best to provide assistance.
  utter_goodbye:
  - text: Bye!
  - text: Goodbye!
  - text: Bye-bye!
  - text: Have a nice day!
  - text: Have a great rest of your day!
  - text: Catch you around the mall!
  - text: Pepper out! Have a great time!
  utter_greet:
  - text: Hey! I'm Pepper, the robotic guardian of this shopping mall.
  - text: Hello! I'm Pepper, the robotic guardian of this shopping mall.
  - text: Hello there! I'm Pepper, the robotic guardian of this shopping mall.
  utter_help:
  - text: How can I help you?
  - text: How may I help you?
  - text: How can I assist you?
  - text: What can I do for you?
  - text: Is there something I can assist you with?
  - text: Can I help you with something?
  - text: Is there anything I can do for you?
  utter_please_rephrase:
  - text: I'm sorry, I didn't quite understand that. Could you rephrase? Remember. My duties are limited to counting and identifying the number of people in the shopping mall and providing information regarding the Artificial Vision twenty twenty-five contest.
  utter_submit_find_person_form:
  - text: |-
      Let me check in my database. I am going to run a people search using the following parameters:
      - gender: {gender}; 
      - bag: {bag}; 
      - hat: {hat}; 
      Would you like to submit the form with this information, or would you prefer to modify any of the data?
  utter_thanks:
  - text: It was a pleasure to assist you.
  - text: I'm glad I could help. Feel free to reach out to me anytime you require support or have questions.
  - text: It has been a pleasure assisting you today. Should you require further help, please do not hesitate to contact me.

actions:
- utter_ask_bag
- utter_ask_gender
- utter_ask_hat
- utter_ask_stopping
- utter_capabilities
- utter_doubt
- utter_goodbye
- utter_greet
- utter_help
- utter_please_rephrase
- utter_submit_find_person_form
- utter_thanks
- action_count_people
- action_reset
- action_slot_mapping
- action_submit
- action_count_groups
- validate_find_person_form
- action_classification
- action_have_partecipated
- action_members_group
- action_score_done 
- action_reset_old_slot
- action_group_id 


forms:
  find_person_form:
    ignored_intents:
    - count_people
    required_slots:
    - gender
    - bag
    - hat
 

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
